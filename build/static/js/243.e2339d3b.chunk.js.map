{"version":3,"file":"static/js/243.e2339d3b.chunk.js","mappings":"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","sources":["AudioEngine/Outputs/BusMain.js","AudioEngine/Songs/Instrument.js","AudioEngine/Songs/Song.js","AudioEngine/Songs/songs/IntroSong.js","AudioEngine/Songs/songs/DeltaSong.js","AudioEngine/Songs/songs/ThetaSong.js","AudioEngine/Songs/songs/AlphaSong.js","AudioEngine/Songs/songs/BetaSong.js","AudioEngine/Songs/songs/GammaSong.js","AudioEngine/Players/Player.js","AudioEngine/Players/SolfeggioSynth.js","AudioEngine/Players/Players.js","AudioEngine/AudioEngine.js"],"sourcesContent":["class BusMain {\n\n  //tone ref and main bus input (which gets passed to the players)\n  constructor(tone, mainBusInput){\n\n    //adjust vol if needed\n    const amp = new tone.Volume(0);\n        \n    //meter the signal \n    \n    // this.meter = new tone.Meter();\n    // setInterval(() => {\n    //   const level = this.meter.getValue().toFixed(0);\n    //   if (level > -60) {\n    //     console.log(\"METER \", level);\n    //   }\n    // }, 2400);\n\n    //main bus signal chain with meter\n    // mainBusInput.connect(amp);\n    // amp.connect(this.meter);\n    // this.meter.toDestination();\n\n    //without meter\n    mainBusInput.connect(amp);\n    amp.toDestination();\n      \n  }\n}\n\nexport default BusMain;","export default class Instrument {\n\n    static TYPE_BG_LOOP = 1;\n    static TYPE_STANDARD = 2;\n    \n    constructor(name, sampleMap, type) {\n\n        //basic properties for all types\n        this.name = name;\n\n        //object with keys and samples\n        this.sampleMap = sampleMap;   \n\n        //types are listed above\n        this.type = type;\n\n        //audio buffers (object with note buffer pairs)\n        this.buffers = null;\n        \n        //other attributes are set directly from parent class\n        this.notes = null;\n        this.loopLength = null;\n        this.timingRange = null;\n        this.velocityRange = null;\n        this.skipChance = null;\n        this.noteChance = null;\n        this.attack = null;\n        this.release = null;\n        this.fxLevel = null;\n        this.db = null;\n    }\n\n    updateBuffers(newBuffers) {\n        //object with note buffer pairs\n        this.buffers = newBuffers;\n    }\n}","import Instrument from './Instrument';\n\nexport default class Song {\n\n    static NAME_INTRO = \"Intro\";\n    static NAME_DELTA = \"Delta\";\n    static NAME_THETA = \"Theta\";\n    static NAME_ALPHA = \"Alpha\";\n    static NAME_BETA = \"Beta\";\n    static NAME_GAMMA = \"Gamma\";\n\n    constructor(tone, id, name) {\n\n        //capture vars\n        this.tone = tone;\n        this.id = id;\n        this.name = name;\n        \n        this.buffers = null; //will be populated by subclass\n\n        //init instruments array to be populated by subclass\n        this.instruments = [];\n    }\n\n    async load(){\n\n        if (this.buffers) {\n            console.log(\"Song: Load already complete\");\n            return true; // already loaded\n        }\n\n        console.log(\"Song: Load URLs from\", this.instruments.length, \"instruments\");\n\n        // PREP URLs: Build full URLs from each Instrument's fileNames\n        const fullSoundURLs = {};\n     \n        // this.instruments.forEach(instrument => {\n        //     // Loop through the fileNames array and create unique keys for each file\n        //     instrument.fileNames.forEach((fileName, index) => {\n        //         // Construct a unique key using the instrument name + index\n        //         const key = `${instrument.name}${index}`;  \n        //         const url = `${process.env.PUBLIC_URL}/sounds/${fileName}`;\n        //         //console.log(\"key\", key, \"url\", url);\n        //         fullSoundURLs[key] = url;\n        //     });\n        // });\n\n        this.instruments.forEach(instrument => {\n            // sampleMap is an object like: { C0: \"beta/b_beat_1.mp3\", C1: \"beta/b_beat_2.mp3\", ... }\n            const sampleMap = instrument.sampleMap;\n        \n            // Loop through each note/file pair in the sampleMap\n            Object.entries(sampleMap).forEach(([note, filePath]) => {\n                // Construct a unique key using the instrument name and note\n                // (e.g., \"betaBeats_C0\", \"betaBeats_C1\", etc.)\n                const uniqueKey = `${instrument.name}_${note}`;\n        \n                // Build the full URL from your /sounds folder\n                const url = `${process.env.PUBLIC_URL}/sounds/${filePath}`;\n        \n                fullSoundURLs[uniqueKey] = url;\n            });\n        });\n        \n        // LOAD BUFFERS: create Tone.Buffers instance\n        this.buffers = new this.tone.Buffers(fullSoundURLs);\n        \n        // LOAD SUCCESS?\n        try {\n            // Wait until all buffers are loaded\n            await this.tone.loaded();\n\n            // Assign each loaded buffer to its corresponding Instrument\n\n            //multiple file assignments\n            this.instruments.forEach(instrument => {\n                \n                //get keys from buffers\n                const bufferKeys = Array.from(this.buffers._buffers.keys()); \n                //console.log(\"this.buffers._buffers keys:\", bufferKeys);\n\n                const noteBufferPairs = bufferKeys\n                .filter(key => key.startsWith(instrument.name + \"_\")) // \"betaBeats_C0\", \"betaBeats_C1\", etc.\n                .map(key => {\n                    // For a key like \"betaBeats_C0\", split out just \"C0\"\n                    const note = key.substring(instrument.name.length + 1);\n                    return {\n                        note,\n                        buffer: this.buffers.get(key) // A ToneAudioBuffer\n                    };\n                });\n\n                //console.log(`Matching note-buffer pairs for \"${instrument.name}\":`, noteBufferPairs);\n\n                // Pass the array of { note, buffer } objects to the instrument.\n                instrument.updateBuffers(noteBufferPairs);\n            });\n\n            console.log(\"Song: Load complete:\", this.instruments.length, \"instruments\");\n\n            return true; // signal successful load\n        } catch (error) {\n            console.error(\"Song: Error loading buffers:\", error);\n            return false; // signal error during loading\n        }\n    }\n\n    //GETTERS FOR SONG PARTS\n    //get full set of instruments by type\n    //get random instrument of type\n\n    getInstrumentByName(name) {\n        return this.instruments.find(instrument => {\n            if (instrument.name === name) {\n                return true;\n            }\n            return false;\n        });\n    }\n    getBackgroundLoop(){\n        return this.instruments.filter(instrument => instrument.type === Instrument.TYPE_BG_LOOP)[0]; //only one bg loop per song\n    }\n    getInstruments(){\n        return this.instruments.filter(instrument => instrument.type === Instrument.TYPE_STANDARD);\n    }\n    getRandomInstrument(){\n        const instruments = this.getInstruments();\n        return instruments[Math.floor(Math.random() * instruments.length)];\n    }\n}","import Song from \"../Song\";\nimport Instrument from \"../Instrument\";\n\nexport default class IntroSong extends Song {\n\n    constructor(tone, id) {\n\n        super(tone, id, Song.NAME_INTRO);\n\n        //BACKGROUND LOOP\n        //26\n        const introBgLoop = new Instrument(\"introBgLoop\", {\"C3\": \"intro/i_reverb_bed.mp3\"}, Instrument.TYPE_BG_LOOP );\n        introBgLoop.notes = [\n            { time: \"0\", pitch: \"C3\"},\n        ];\n        introBgLoop.loopLength = 12;\n        introBgLoop.loopTotal = -1;\n        introBgLoop.db = -17; \n        this.instruments.push(introBgLoop);\n\n        //NOTES\n        const introGuzheng = new Instrument(\"introGuzheng\", {\"C3\": \"intro/i_guzheng_note.mp3\"}, Instrument.TYPE_STANDARD );\n        introGuzheng.notes = [\n            { time: \"0\", pitch: \"C2\", velocity: 0.6},\n            { time: \"6m\", pitch: \"C3\", velocity: 0.35},\n          \n        ];\n        introGuzheng.loopLength = \"12m\";\n        introGuzheng.loopTotal = 1;\n        introGuzheng.timingRange = 0.6;\n        introGuzheng.velocityRange = 0.4;\n        introGuzheng.skipChance = 0.45;\n        introGuzheng.noteChance = 0.0;\n        introGuzheng.db = -2;\n        this.instruments.push(introGuzheng);\n\n        //9m\n        const thetaBass = new Instrument(\"thetaBass\", {\"C3\": \"theta/t_bass_atm.mp3\"}, Instrument.TYPE_STANDARD );\n        thetaBass.notes = [\n            { time: \"0\", pitch: \"C3\", velocity: 1.0}\n        ];\n        thetaBass.loopLength = \"12m\";\n        thetaBass.loopTotal = 1;\n        thetaBass.velocityRange = 0.4;\n        thetaBass.skipChance = 0.1;\n        thetaBass.db = -4;\n        this.instruments.push(thetaBass);\n\n        \n        //BG\n        //6m\n        const introShimmerBg = new Instrument(\"introShimmerBg\", {\"C3\": \"intro/i_shimmer_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        introShimmerBg.notes = [\n            { time: \"1m\", pitch: \"C3\", velocity: 0.5},\n        ];\n        introShimmerBg.loopLength = \"9m\";\n        introShimmerBg.loopTotal = 1;\n        introShimmerBg.velocityRange = 0.5;\n        thetaBass.skipChance = 0.5;\n        introShimmerBg.db = -21;\n        this.instruments.push(introShimmerBg);\n    }\n}","import Song from \"../Song\";\nimport Instrument from \"../Instrument\";\n\nexport default class DeltaSong extends Song {\n\n    constructor(tone, id) {\n\n        super(tone, id, Song.NAME_DELTA);\n\n        //BACKGROUND LOOP\n        //29m\n        const deltaBgLoop = new Instrument(\"deltaBgLoop\", {\"C3\": \"delta/d_reverb_bed.mp3\"}, Instrument.TYPE_BG_LOOP );\n        deltaBgLoop.notes = [\n            { time: \"0\", pitch: \"C3\"},\n        ];\n        deltaBgLoop.loopLength = 21;\n        deltaBgLoop.loopTotal = -1;\n        deltaBgLoop.db = -10; \n        this.instruments.push(deltaBgLoop);\n\n        //NOTES\n\n        const deltaSubBassNote = new Instrument(\"deltaSubBassNote\", {\"C3\": \"delta/d_sub_bass_note.mp3\"}, Instrument.TYPE_STANDARD );\n        deltaSubBassNote.notes = [\n            { time: \"0\", pitch: \"C4\", velocity: 0.4},\n            { time: \"6m\", pitch: \"A3\", velocity: 0.4},\n            { time: \"11m\", pitch: \"C3\", velocity: 0.4},\n        ];\n        deltaSubBassNote.loopLength = \"16m\";\n        deltaSubBassNote.loopTotal = 1;\n        deltaSubBassNote.timingRange = 0.6;\n        deltaSubBassNote.velocityRange = 0.1;\n        deltaSubBassNote.noteChance = 0.6;\n        deltaSubBassNote.skipChance = 0.6;\n        deltaSubBassNote.db = -10;\n        this.instruments.push(deltaSubBassNote);\n\n     \n        const deltaAmbientTinesNote = new Instrument(\"deltaAmbientTinesNote\", {\"C3\": \"delta/d_ambient_tines_note.mp3\"}, Instrument.TYPE_STANDARD );\n        deltaAmbientTinesNote.notes = [\n            { time: \"0\", pitch: \"C3\", velocity: 0.65},\n            { time: \"5m\", pitch: \"C2\", velocity: 0.65},\n          \n        ];\n        deltaAmbientTinesNote.loopLength = \"14m\";\n        deltaAmbientTinesNote.loopTotal = 1;\n        deltaAmbientTinesNote.timingRange = 0.6;\n        deltaAmbientTinesNote.velocityRange = 0.2;\n        deltaAmbientTinesNote.noteChance = 0.6;\n        deltaAmbientTinesNote.skipChance = 0.7;\n        deltaAmbientTinesNote.db = -6;\n        this.instruments.push(deltaAmbientTinesNote);\n\n    }\n}","import Song from \"../Song\";\nimport Instrument from \"../Instrument\";\n\nexport default class ThetaSong extends Song {\n\n    constructor(tone, id) {\n\n        super(tone, id, Song.NAME_THETA);\n\n        //BACKGROUND LOOP\n        //14m\n        const thetaBgLoop = new Instrument(\"thetaBgLoop\", {\"C3\": \"theta/t_bg_loop.mp3\"}, Instrument.TYPE_BG_LOOP );\n        thetaBgLoop.notes = [\n            { time: \"0\", pitch: \"C3\"},\n        ];\n        thetaBgLoop.loopLength = \"7m\";\n        thetaBgLoop.loopTotal = -1;\n        thetaBgLoop.db = -10; \n        this.instruments.push(thetaBgLoop);\n\n        //8m\n        const thetaBass = new Instrument(\"thetaBass\", {\"C3\": \"theta/t_bass_atm.mp3\"}, Instrument.TYPE_STANDARD );\n        thetaBass.notes = [\n            { time: \"0\", pitch: \"G3\", velocity: 0.75},\n            { time: \"5m\", pitch: \"C4\", velocity: 0.65},\n            { time: \"10m\", pitch: \"C3\", velocity: 0.9}\n        ];\n        thetaBass.loopLength = \"18m\";\n        thetaBass.loopTotal = 1;\n        thetaBass.velocityRange = 0.35;\n        thetaBass.skipChance = 0.3;\n        thetaBass.db = 0;\n        this.instruments.push(thetaBass);\n\n        //NOTES\n        //6m\n        const thetaBellNote = new Instrument(\"thetaBellNote\", {\"C3\": \"theta/t_bell_note.mp3\"}, Instrument.TYPE_STANDARD );\n        thetaBellNote.notes = [\n            { time: \"0\", pitch: \"C3\"},\n        ];\n        thetaBellNote.loopLength = \"8m\";\n        thetaBellNote.loopTotal = 1;\n        thetaBellNote.timingRange = 0.6;\n        thetaBellNote.velocityRange = 0.4;\n        thetaBellNote.skipChance = 0.45;\n        thetaBellNote.db = -6;\n        this.instruments.push(thetaBellNote);\n\n        //7m\n        const thetaChimesNote = new Instrument(\"thetaChimesNote\", {\"C3\": \"theta/t_chimes_note.mp3\"}, Instrument.TYPE_STANDARD );\n        thetaChimesNote.notes = [\n            { time: \"0\", pitch: \"G3\", velocity: 0.7},\n            { time: \"5m\", pitch: \"C4\", velocity: 0.45},\n            { time: \"8m\", pitch: \"C3\", velocity: 1.0},\n          \n        ];\n        thetaChimesNote.loopLength = \"29m\";\n        thetaChimesNote.loopTotal = 1;\n        thetaChimesNote.timingRange = 0.6;\n        thetaChimesNote.velocityRange = 0.4;\n        thetaChimesNote.skipChance = 0.3;\n        thetaChimesNote.db = -3;\n        this.instruments.push(thetaChimesNote);\n\n        \n\n        \n        //BG\n        //12m\n        const thetaChimesBg = new Instrument(\"thetaChimesBg\", {\"C3\": \"theta/t_chimes_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        thetaChimesBg.notes = [\n            { time: \"0\", pitch: \"C4\", velocity: 0.3},\n            { time: \"5m\", pitch: \"C3\", velocity: 1.0},\n        ];\n        thetaChimesBg.loopLength = \"14m\";\n        thetaChimesBg.loopTotal = 1;\n        thetaChimesBg.velocityRange = 0.3;\n        thetaChimesBg.skipChance = 0.3;\n        thetaChimesBg.db = 0;\n        this.instruments.push(thetaChimesBg);\n    }\n}","import Song from \"../Song\";\nimport Instrument from \"../Instrument\";\n\nexport default class AlphaSong extends Song {\n\n    constructor(tone, id) {\n\n        super(tone, id, Song.NAME_ALPHA);\n\n        //BACKGROUND LOOP\n        //33s\n        const alphaBgLoop = new Instrument(\"alphaBgLoop\", {\"C3\": \"alpha/a_reverb_bed.mp3\"}, Instrument.TYPE_BG_LOOP );\n        alphaBgLoop.notes = [\n            { time: \"0\", pitch: \"C3\"},\n        ];\n        alphaBgLoop.loopLength = 22;\n        alphaBgLoop.loopTotal = -1;\n        alphaBgLoop.db = -14; \n        this.instruments.push(alphaBgLoop);\n\n        //8m\n        const alphaMindfullnessPad = new Instrument(\"alphaMindfullnessPad\", {\"C3\": \"alpha/a_mindfullness_padR.mp3\"}, Instrument.TYPE_STANDARD );\n        alphaMindfullnessPad.notes = [\n            { time: \"0:0:0\", pitch: [\"C3\", \"E3\", \"G3\", \"B2\"], velocity: 0.7},\n            { time: \"6m\",  pitch: [\"D3\", \"F3\", \"A2\", \"C3\"], velocity: 0.7 },\n            { time: \"12m\", pitch: [\"E2\", \"G2\", \"B2\", \"D3\"], velocity: 0.7 },\n            { time: \"18m\", pitch: [\"F3\", \"A2\", \"C3\", \"E2\"], velocity: 0.7 },\n            { time: \"24m\", pitch: [\"G2\", \"B2\", \"D3\", \"E2\"], velocity: 0.7 },\n            { time: \"30m\", pitch: [\"A2\", \"C3\", \"E3\", \"G2\"], velocity: 0.7 },\n        ];\n        alphaMindfullnessPad.loopLength = \"36m\";\n        alphaMindfullnessPad.loopTotal = 1;\n        alphaMindfullnessPad.timingRange = 0.3;\n        alphaMindfullnessPad.velocityRange = 0.2;\n        alphaMindfullnessPad.skipChance = 0.25; \n        alphaMindfullnessPad.noteChance = 0.95;\n        alphaMindfullnessPad.db = -17;\n        this.instruments.push(alphaMindfullnessPad);\n\n        const alphaSoftKey = new Instrument(\"alphaSoftKey\", {\"C3\": \"alpha/a_soft_key.mp3\"}, Instrument.TYPE_STANDARD );\n        alphaSoftKey.notes = [\n            { time: \"0:0:0\", pitch: \"C2\"},\n            { time: \"0:4:0\", pitch: \"D2\"},\n            { time: \"2:0:0\", pitch: \"E2\"},\n            { time: \"2:4:0\", pitch: \"G2\"},\n            { time: \"4:0:0\", pitch: \"A2\"},\n            { time: \"4:4:0\", pitch: \"C3\"},\n            { time: \"6:0:0\", pitch: \"D3\"},\n          \n        ];\n        alphaSoftKey.loopLength = \"6:3:0\";\n        alphaSoftKey.loopTotal = 1;\n        alphaSoftKey.timingRange = 0.6;\n        alphaSoftKey.velocityRange = 0.2;\n        alphaSoftKey.skipChance = 0.75; \n        alphaSoftKey.noteChance = 0.9;\n        alphaSoftKey.db = -30;\n        this.instruments.push(alphaSoftKey);\n\n        const alphaLoundBell = new Instrument(\"alphaLoundBell\", {\"C3\": \"alpha/a_lound_note.mp3\"}, Instrument.TYPE_STANDARD );\n        alphaLoundBell.notes = [\n            { time: \"0:3:0\", pitch: \"C2\"},\n            { time: \"1:1:0\", pitch: \"D2\"},\n            { time: \"3:2:0\", pitch: \"G2\"},\n            { time: \"4:2:0\", pitch: \"A2\"},\n        ];\n        alphaLoundBell.loopLength = \"6m\";\n        alphaLoundBell.loopTotal = 1;\n        alphaLoundBell.timingRange = 0.4;\n        alphaLoundBell.velocityRange = 0.3;\n        alphaLoundBell.skipChance = 0.35; \n        alphaLoundBell.noteChance = 0.9;\n        alphaLoundBell.db = -30;\n        this.instruments.push(alphaLoundBell);\n\n        \n        // //5m\n        const alphaJvAnalogPad = new Instrument(\"alphaJvAnalogPad\", {\"C3\": \"alpha/a_JV_analog_padR.mp3\"}, Instrument.TYPE_STANDARD );\n        alphaJvAnalogPad.notes = [\n            { time: \"0\",   pitch: [\"C3\", \"E3\", \"G3\", \"B3\"], velocity: 0.7},\n            { time: \"5m\",  pitch: [\"D3\", \"F3\", \"A3\", \"C4\"], velocity: 0.7},\n            { time: \"10m\", pitch: [\"E3\", \"G3\", \"B3\", \"D4\"], velocity: 0.7},\n            { time: \"15m\", pitch: [\"F3\", \"A3\", \"C4\", \"E4\"], velocity: 0.7},\n            { time: \"20m\", pitch: [\"G3\", \"B3\", \"D4\", \"E4\"], velocity: 0.7},\n            { time: \"25m\", pitch: [\"A3\", \"C4\", \"E4\", \"G4\"], velocity: 0.7},\n        ];\n        alphaJvAnalogPad.loopLength = \"30m\";\n        alphaJvAnalogPad.loopTotal = 1;\n        alphaJvAnalogPad.timingRange = 0.3;\n        alphaJvAnalogPad.velocityRange = 0.35;\n        alphaJvAnalogPad.skipChance = 0.35;\n        alphaJvAnalogPad.noteChance = 0.95;\n        alphaJvAnalogPad.db = -24;\n        this.instruments.push(alphaJvAnalogPad);\n\n    \n        // //6m\n        const alphaDreamBg = new Instrument(\"alphaDreamBg\", {\"C3\": \"alpha/a_dream_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        alphaDreamBg.notes = [\n            { time: \"0\", pitch: \"C3\", velocity: 0.8},\n        ];\n        alphaDreamBg.loopLength = \"7m\";\n        alphaDreamBg.loopTotal = 1;\n        alphaDreamBg.velocityRange = 0.25;\n        alphaDreamBg.db = -12;\n        this.instruments.push(alphaDreamBg);\n\n        //6m\n        const alphaTangerineBg = new Instrument(\"alphaTangerineBg\", {\"C3\": \"alpha/a_tangerine_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        alphaTangerineBg.notes = [\n            { time: \"0\", pitch: \"C3\", velocity: 0.5},\n            { time: \"7m\", pitch: \"C2\", velocity: 0.75}, \n        ];\n        alphaTangerineBg.loopLength = \"19m\";\n        alphaTangerineBg.loopTotal = 1;\n        alphaTangerineBg.skipChance = 0.3;\n        alphaTangerineBg.db = -5;\n        this.instruments.push(alphaTangerineBg);\n\n        //6m\n        const betaHarpBg = new Instrument(\"betaHarpBg\", {\"C3\": \"beta/b_harp_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        betaHarpBg.notes = [\n            { time: \"0\", pitch: \"C2\"}, \n        ];\n        betaHarpBg.loopLength = \"12m\";\n        betaHarpBg.loopTotal = 1;\n        betaHarpBg.db = -22;\n        this.instruments.push(betaHarpBg);\n\n        //9m\n        //too low, already enough sounds\n        // const thetaBass = new Instrument(\"thetaBass\", {\"C3\": \"theta/t_bass.mp3\"}, Instrument.TYPE_STANDARD );\n        // thetaBass.notes = [\n        //     { time: \"0\",  pitch: \"C3\"},\n        //     { time: \"8m\",  pitch: \"D3\"},\n        //     { time: \"16m\", pitch: \"E3\"},\n        //     { time: \"24m\", pitch: \"F3\"},\n        //     { time: \"32m\", pitch: \"G2\"},\n        //     { time: \"40m\", pitch: \"A2\"},        \n        // ];\n        // thetaBass.loopLength = \"48m\";\n        // thetaBass.loopTotal = 1;\n        // thetaBass.timingRange = 0.0;\n        // thetaBass.velocityRange = 0.25;\n        // thetaBass.skipChance = 0.4;\n        // thetaBass.noteChance = 0.95;\n        // thetaBass.db = -10;\n        // this.instruments.push(thetaBass);\n\n    }\n}","import Song from \"../Song\";\nimport Instrument from \"../Instrument\";\n\nexport default class BetaSong extends Song {\n\n    constructor(tone, id) {\n\n        super(tone, id, Song.NAME_BETA);\n\n        //16m x 6 sets\n        const betaBeats = new Instrument(\n            \"betaBeats\", \n            {\n                \"C0\": \"beta/b_beat_1.mp3\",\n                \"C1\": \"beta/b_beat_2.mp3\",\n                \"C2\": \"beta/b_beat_3.mp3\",\n                \"C3\": \"beta/b_beat_4.mp3\",\n                \"C4\": \"beta/b_beat_5.mp3\",\n                \"C5\": \"beta/b_beat_6.mp3\"\n            }, \n            Instrument.TYPE_BG_LOOP\n        );\n        betaBeats.notes = [\n            { time: \"0:0:0\", pitch: \"C0\" },\n            { time: \"16m\", pitch: \"C1\" },\n            { time: \"32m\", pitch: \"C2\" },\n            { time: \"48m\", pitch: \"C3\" },\n            { time: \"64m\", pitch: \"C4\" },\n            { time: \"80m\", pitch: \"C5\" },\n        ];\n        betaBeats.loopLength = \"96m\";\n        betaBeats.loopTotal = -1; \n        betaBeats.noteChance = 0.99; //order is always mixed \n        betaBeats.db = -2;\n        this.instruments.push(betaBeats);\n\n        //33s\n        const betaAtm = new Instrument(\"betaAtm\", {\"C3\": \"beta/b_bg_loop.mp3\"}, Instrument.TYPE_STANDARD );\n        betaAtm.notes = [\n            { time: \"0\", pitch: \"C3\"}\n        ];\n        betaAtm.loopLength = 22;\n        betaAtm.loopTotal = -1;\n        betaAtm.db = -16;\n        this.instruments.push(betaAtm);\n\n        const betaHarpNote = new Instrument(\"betaHarpNote\", {\"C3\": \"beta/b_harp_note.mp3\"}, Instrument.TYPE_STANDARD );\n        betaHarpNote.notes = [\n            { time: \"0:3:0\",  pitch: [\"C2\", \"G1\"], velocity: 0.8},\n            { time: \"3:3:0\",  pitch: [\"G2\", \"C2\"], velocity: 0.8},\n            { time: \"6:1:0\",  pitch: [\"C3\", \"G2\"], velocity: 0.8},\n            { time: \"8:3:0\",  pitch: [\"C2\", \"G1\"], velocity: 0.8},\n            { time: \"10:3:0\", pitch: [\"E2\", \"C3\"], velocity: 0.8},\n        ];\n        betaHarpNote.loopLength = \"12m\";\n        betaHarpNote.loopTotal = 1;\n        betaHarpNote.timingRange = 0.4;\n        betaHarpNote.velocityRange = 0.3;\n        betaHarpNote.skipChance = 0.4; \n        betaHarpNote.noteChance = 0.75;\n        betaHarpNote.db = -22;\n        this.instruments.push(betaHarpNote);\n\n        //6m\n        const betaHarpBg = new Instrument(\"betaHarpBg\", {\"C3\": \"beta/b_harp_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        betaHarpBg.notes = [\n            { time: \"0\", pitch: \"C3\"}\n        ];\n        betaHarpBg.loopLength = \"6m\";\n        betaHarpBg.loopTotal = 1;\n        betaHarpBg.db = -20;\n        this.instruments.push(betaHarpBg);\n\n        \n        //11m\n        const betaBellsBg = new Instrument(\"betaBellsBg\", {\"C3\": \"beta/b_bells_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        betaBellsBg.notes = [\n            { time: \"0\", pitch: \"C3\"},\n        ];\n        betaBellsBg.loopLength = \"11m\";\n        betaBellsBg.loopTotal = 1;\n        betaBellsBg.db = -29;\n        this.instruments.push(betaBellsBg);\n\n        \n\n        //7m\n        const betaDriftBg = new Instrument(\"betaDriftBg\", {\"C3\": \"beta/b_drift_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        betaDriftBg.notes = [\n            { time: \"0\", pitch: \"C2\", velocity: 0.75},\n            { time: \"4m\", pitch: \"C4\", velocity: 0.15},\n            { time: \"9m\", pitch: \"C3\", velocity: 0.5}\n        ];\n        betaDriftBg.timingRange = 0.6;\n        betaDriftBg.loopLength = \"17m\";\n        betaDriftBg.loopTotal = 1;\n        betaDriftBg.velocityRange = 0.15;\n        betaDriftBg.skipChance = 0.5;\n        betaDriftBg.db = -20;\n        this.instruments.push(betaDriftBg);\n\n        //8m\n        const betaDreamBg = new Instrument(\"betaDreamBg\", {\"C3\": \"beta/b_dream_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        betaDreamBg.notes = [\n            { time: \"0\", pitch: \"C4\", velocity: 0.2},\n            { time: \"3m\", pitch: \"C3\", velocity: 0.6},\n        ];\n        betaDreamBg.loopLength = \"9m\";\n        betaDreamBg.loopTotal = 1;\n        betaDreamBg.skipChance = 0.5;\n        betaDreamBg.db = -9;\n        this.instruments.push(betaDreamBg);\n\n        \n\n    }\n}","import Song from \"../Song\";\nimport Instrument from \"../Instrument\";\n\nexport default class GammaSong extends Song {\n\n    constructor(tone, id) {\n\n        super(tone, id, Song.NAME_GAMMA);\n\n        //BACKGROUND LOOP\n        //30s\n        const gammaBgLoop = new Instrument(\"gammaBgLoop\", {\"C3\": \"gamma/g_reverb_bed.mp3\"}, Instrument.TYPE_BG_LOOP );\n        gammaBgLoop.notes = [\n            { time: \"0\", pitch: \"C3\"},\n        ];\n        gammaBgLoop.loopLength = 19;\n        gammaBgLoop.loopTotal = -1;\n        gammaBgLoop.db = -17; \n        this.instruments.push(gammaBgLoop);\n\n        //12m\n        const gammaChakraArp = new Instrument(\"gammaChakraArp\", {\"C3\": \"gamma/g_chakra_arp.mp3\"}, Instrument.TYPE_STANDARD );\n        gammaChakraArp.notes = [\n            \n            { time: \"0\",  pitch: \"C3\", velocity: 1.0},\n            { time: \"9m\",  pitch: \"G3\", velocity: 0.85},\n            { time: \"15m\",  pitch: \"C4\", velocity: 0.325},\n            { time: \"18m\",  pitch: \"C2\", velocity: 0.8},\n           \n        ];\n        gammaChakraArp.loopLength = \"32m\";\n        gammaChakraArp.loopTotal = 1;\n        gammaChakraArp.timingRange = 0.0;\n        gammaChakraArp.velocityRange = 0.2;\n        gammaChakraArp.skipChance = 0.4; \n        gammaChakraArp.db = -10;\n        this.instruments.push(gammaChakraArp);\n       \n        // 13m\n        //spinning wheel\n        const gammaSpinningWheel = new Instrument(\"gammaSpinningWheel\", {\"C3\": \"gamma/g_spinning_wheel.mp3\"}, Instrument.TYPE_STANDARD );\n        gammaSpinningWheel.notes = [\n            { time: \"0\", pitch: \"C3\", velocity: 1.0},\n            { time: \"10m\", pitch: \"C4\", velocity: 0.25},\n        ];\n        gammaSpinningWheel.loopLength = \"12m\";\n        gammaSpinningWheel.loopTotal = 1;\n        gammaSpinningWheel.velocityRange = 0.125;\n        gammaSpinningWheel.skipChance = 0.4;\n        gammaSpinningWheel.db = -3;\n        this.instruments.push(gammaSpinningWheel);\n\n    \n        //bell\n        const gammaBell = new Instrument(\"gammaBell\", {\"C3\": \"gamma/g_bell_note.mp3\"}, Instrument.TYPE_STANDARD );\n        gammaBell.notes = [\n            { time: \"0:0:0\",  pitch: \"C0\", velocity: 0.8},\n            { time: \"0:1:0\",  pitch: \"F0\", velocity: 0.8},\n            { time: \"0:2:0\",  pitch: \"G0\", velocity: 0.8},\n\n            { time: \"2:0:0\",  pitch: \"C1\", velocity: 0.8},\n            { time: \"2:1:0\",  pitch: \"F1\", velocity: 0.8},\n            { time: \"2:2:0\",  pitch: \"G1\", velocity: 0.7},\n\n            { time: \"4:0:0\",  pitch: \"C2\", velocity: 0.6},\n            { time: \"4:1:0\",  pitch: \"F2\", velocity: 0.5},\n            { time: \"4:2:0\",  pitch: \"G2\", velocity: 0.35},\n        ];\n        gammaBell.loopLength = \"6m\";\n        gammaBell.loopTotal = 1;\n        gammaBell.velocityRange = 0.15;\n        gammaBell.skipChance = 0.45;\n        gammaBell.db = -10;\n        this.instruments.push(gammaBell);\n\n        //sparkle\n        const gammaCrystalSparkle = new Instrument(\"gammaCrystalSparkle\", {\"C3\": \"gamma/g_crystal_sparkle.mp3\"}, Instrument.TYPE_STANDARD );\n        gammaCrystalSparkle.notes = [\n            { time: \"0\", pitch: \"C1\", velocity: 0.9},\n            { time: \"2m\", pitch: \"G1\", velocity: 0.7},\n            { time: \"4m\", pitch: \"C2\", velocity: 0.3},\n            { time: \"6m\", pitch: \"G1\", velocity: 0.6},\n        ];\n        gammaCrystalSparkle.loopLength = \"8m\";\n        gammaCrystalSparkle.loopTotal = 1;\n        gammaCrystalSparkle.velocityRange = 0.2;\n        gammaCrystalSparkle.skipChance = 0.4;\n        gammaCrystalSparkle.db = -10;\n        this.instruments.push(gammaCrystalSparkle);\n\n\n        //PAD SOUNDS\n        //5m\n        //soft pad\n        const gammaCrystalPad = new Instrument(\"gammaCrystalPad\", {\"C3\": \"gamma/g_crystal_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        gammaCrystalPad.notes = [\n            { time: \"0\", pitch: \"C3\", velocity: 1.0},\n            { time: \"4m\", pitch: \"G3\", velocity: 0.45},\n            { time: \"8m\", pitch: \"F2\", velocity: 0.6},\n        ];\n        gammaCrystalPad.loopLength = \"12m\";\n        gammaCrystalPad.loopTotal = 1;\n        gammaCrystalPad.velocityRange = 0.15;\n        gammaCrystalPad.skipChance = 0.5;\n        gammaCrystalPad.db = -15;\n        this.instruments.push(gammaCrystalPad);\n\n        const gammaChoirPad = new Instrument(\"gammaChoirPad\", {\"C3\": \"gamma/g_jv_warm_choir_pad.mp3\"}, Instrument.TYPE_STANDARD );\n        gammaChoirPad.notes = [\n            \n            { time: \"0\",  pitch: \"G3\", velocity: 0.9},\n\n        ];\n        gammaChoirPad.loopLength = \"4m\";\n        gammaChoirPad.loopTotal = 1;\n        gammaChoirPad.velocityRange = 0.2;\n        gammaChoirPad.skipChance = 0.3; \n   \n        gammaChoirPad.db = -9;\n        this.instruments.push(gammaChoirPad);\n\n        \n        //too sharp\n        // const gammaShimmer1 = new Instrument(\"gammaShimmer1\", {\"C3\": \"gamma/g_shimmer_1.mp3\"}, Instrument.TYPE_STANDARD );\n        // gammaShimmer1.notes = [\n        //     { time: \"0\", pitch: \"C4\", velocity: 1.0},\n        // ];\n        // gammaShimmer1.loopLength = \"5m\";\n        // gammaShimmer1.loopTotal = 1;\n        // gammaShimmer1.velocityRange = 0.15;\n        // gammaShimmer1.skipChance = 0//.5;\n        // gammaShimmer1.db = -5;\n        // this.instruments.push(gammaShimmer1);\n\n        //9m \n        //very high spakrles\n        //too sharp\n        // const gammaChakraBg = new Instrument(\"gammaChakraBg\", {\"C3\": \"gamma/g_chakra_bg.mp3\"}, Instrument.TYPE_STANDARD );\n        // gammaChakraBg.notes = [\n        //     { time: \"0\", pitch: \"C2\"}\n        // ];\n        // gammaChakraBg.loopLength = \"8m\";\n        // gammaChakraBg.loopTotal = 1;\n        // gammaChakraBg.velocityRange = 0.15;\n        // gammaChakraBg.skipChance = 0;//.5;\n        // gammaChakraBg.db = -27;\n        // this.instruments.push(gammaChakraBg);\n\n    }\n}","import Instrument from \"../Songs/Instrument\";\n\nexport default class Player {\n\n    constructor(\n        tone,\n        id,\n        mainOutput,\n        onComplete\n      ) {\n        \n        //store tone\n        this.tone = tone;\n\n        //store id for console logging\n        this.id = id;\n\n        this.mainOutput = mainOutput;\n\n        //callback to parent when playback is complete\n        this.onComplete = onComplete;\n\n        //is their any data loaded in? what is its name?\n        this.instrumentName = null;\n\n        //track type for onComplete\n        this.instrumentType = null;\n\n        //Tone.Samplers need a test file to get started\n        const testTone = `${process.env.PUBLIC_URL}/sounds/global/z_test_tone.mp3`;\n        \n        this.player = new this.tone.Sampler({\n            urls: { \n                \"C1\": testTone,\n                \"C2\": testTone,\n                \"C3\": testTone,\n                \"C4\": testTone,\n                \"C5\": testTone,\n                \"C6\": testTone,\n                \"C7\": testTone,\n                \"C8\": testTone\n            },\n            attack: 0.0\n        });\n        this.player.connect(mainOutput);\n\n        // Bind stop method so that \"this\" always refers to the NotePlayer instance\n        this.stop = this.stop.bind(this);\n\n        //init a blank part\n        this.part = null\n\n        //scheduler IDS\n        this.onCompleteID = null;\n\n        // Calculate the duration (in seconds) of a sixteenth note for random shifts in loops\n        this.sixteenthSeconds = this.tone.Time(\"16n\").toSeconds();\n            \n    }\n\n   \n\n    //PLAYBACK\n    playInstrument(instrument) {\n        \n        if (this._checkInstrumentName(instrument.name)){\n            console.log(\"\");\n            console.log(\"//////////////////////////////\")\n            console.log(\"PLYR\", this.id, \"Queued to play\", instrument.name);\n        } else {\n            return;\n        }\n\n        //save type\n        this.instrumentType = instrument.type;\n        \n        //LOADING\n        //console.log(\"PLYR\", this.id, \": Load buffer\", instrument.buffer);\n        const bufferLoaded = this._loadBuffers(instrument.buffers);\n        if (!bufferLoaded) {\n            console.warn(\"PLYR\", this.id, \": Error loading buffer.\");\n            return;\n        }\n    \n        //EXTRACT DATA\n        const notes = instrument.notes;\n        const loopLength = instrument.loopLength;\n        const loopTotal = instrument.loopTotal;\n        let timeRange = instrument.timingRange;\n        if (!timeRange) { timeRange = 0; }\n        let velocityRange = instrument.velocityRange;\n        if (!velocityRange) { velocityRange = 0; }\n        let skipChance = instrument.skipChance;\n        if (!skipChance) { skipChance = 0; }\n        let noteChance = instrument.noteChance;\n        if (!noteChance) { noteChance = 0; }\n        const db = instrument.db;\n        \n        // console.log(\n        //     \"NotePlayer\", this.id, \": Play:\",\n        //     notes,\n        //     \"loop<->\", loopLength,\n        //     \"time<->\", timeRange,\n        //     \"velo<->\", velocityRange,\n        //     \"skip%\", skipChance,\n        //     \"note%\", noteChance,\n        // );\n\n        //set volume smoothly\n        if (instrument.type === Instrument.TYPE_BG_LOOP) {\n            this.player.volume.rampTo(db, 10); //fade to other bg loop volumes slowly (10 sec)\n        } else {\n            this.player.volume.rampTo(db, 3); //fade to all other sounds quicker\n        }\n\n        // If noteChance is greater than 0, create an array of available pitches.\n        // We use a Set to keep only unique pitches from the sheetMusic.notes.\n        let availablePitches = [];\n        if (noteChance > 0) {\n            availablePitches = [...new Set(notes.map(n => n.pitch))];\n        }\n\n        // Dispose of any existing part to avoid overlapping schedules\n        if (this.part) { this.part.dispose(); }\n\n        //TONE.PART\n        // Create a new Tone.Part with the passed in note events\n        this.part = new this.tone.Part((time, note) => {\n\n            // === Velocity Randomization with Skip Chance ===\n            let instrumentVelocity = 1;\n            \n            // First, check if this note should be skipped\n            if (Math.random() < skipChance) {\n                instrumentVelocity = 0;\n            } else {\n                if (velocityRange === 0) {\n                    instrumentVelocity = 1.0;\n                } else {\n                    // Randomize velocity between (1 - velocityRange) and 1.0.\n                    // For example, if velocityRange is 0.3, the velocity will be between 0.7 and 1.0.\n                    instrumentVelocity = Math.random() * velocityRange + (1 - velocityRange);\n                }\n            }\n\n            const noteVelocity = note.velocity || 1.0;\n\n            // TIME SHIFT\n            let finalTime = time;\n            if (timeRange !== 0) {\n                // Randomly shift the note by up to timeRange sixteenth notes.\n                const randomShift = (Math.random() * (timeRange * 2) - timeRange) * this.sixteenthSeconds;\n                finalTime = Math.max(time + randomShift, 0); // Prevent negative time.\n            }\n\n            // NOTE RANDOMIZATION\n            // If noteChance is greater than 0 and the random check passes, replace the note's pitch.\n            if (noteChance > 0 && availablePitches.length > 0 && Math.random() < noteChance) {\n                note.pitch = availablePitches[Math.floor(Math.random() * availablePitches.length)];\n            }\n\n            if (noteVelocity * instrumentVelocity === 0) {\n                console.log(\"---------------- PLYR\", this.id, this.instrumentName, \"SKIPPED\");\n            } else {\n                console.log(\"++++++++++++++++ PLYR\", this.id, this.instrumentName, \"note at\", finalTime, \"w/pitch\", note.pitch, \"& velo\", noteVelocity * instrumentVelocity);\n                // Trigger the note with its pitch, duration, randomized time, and velocity.\n                this.player.triggerAttack(note.pitch, finalTime, noteVelocity * instrumentVelocity);  \n            }      \n\n        }, notes);\n            \n        // LOOPING\n        //if loop total is -1, loop forever\n        //if loop total is 0, play once\n        //if loop total is more than 1, play X times\n\n        //if loop is 0, error\n        if (loopTotal === 0) {\n            console.error(\"PLYR\", this.id, this.instrumentName, \": Error: loopTotal is 0. This will not play. Use -1 to loop forever, 1 for single play, and 2 and above for multiple plays.\");\n            return;\n        } else if (loopTotal === -1 || loopTotal > 1) {\n            this.part.loop = true;\n            this.part.loopEnd = loopLength;\n        } //else if loopTotal = 1, play once and call onComplete\n\n        // extract first note from notes\n        const note = notes[0];\n        const noteStartTime = this.tone.Time(note.time).toSeconds();\n        const defaultDelay = 2.4 //1 measure added to all incoming parts\n        const partStartTime = this.tone.now() + noteStartTime + defaultDelay;\n        \n        //ON LOOP COMPLETE\n        //code for single play, X times play, but not infinite play (loopTotal = -1)\n        if (loopTotal > 0){\n            //how long is this sample?\n            const sampleDuration = this.tone.Time(loopLength).toSeconds();\n\n            //was attemping to create an accurate loop, but easier to use Tone Part scheduling\n            //time shift for queuing next sample\n            //subtract 2.4 for the 1 measure delay\n            //subtract 1.0 for the lookahead time\n            // 2.4 for 1 measure, 1.0 for the lookahead time, and XXX for the extra tweak\n            //const timeShiftForNextSample = 2.4 + 1.0 + 0.195; //0.095; //short 4m bar\n\n            //schedule the onComplete callback at the end of the sample playback\n            const onCompleteTime = partStartTime + sampleDuration; // - timeShiftForNextSample;\n\n            this.onCompleteID = this.tone.getTransport().scheduleOnce((time) => {\n\n                //this.part.stop(time); //needed?\n                console.log(\"PLYR ---------------->>>> \", this.id, this.instrumentName, \"onComplete at\", time);\n                if (this.onComplete) this.onComplete(this.instrumentName, this.instrumentType);\n\n            }, onCompleteTime);\n        }\n\n        //START PART SEQUENCER\n        this.part.start(partStartTime); \n        \n\n        // Ensure the Transport is running.\n        if (this.tone.getTransport().state !== \"started\") {\n            console.log(\"PLYR\", this.id, \": Transport not started, starting now.\");\n            this.tone.getTransport().start();\n        } else {\n            //console.log(\"PLYR\", this.id, \": Transport already started.\");\n        }\n    }\n\n    stop() {\n\n        // Stop the part only if it valid and has been started\n        if (this.part) { this.part.stop(); }\n\n        //stop onComplete callback\n        this.tone.getTransport().clear(this.onCompleteID);\n        this.onCompleteID = null;\n\n        //clear var that instruments if this player has content\n        this.instrumentName = null;\n        this.instrumentType = null;\n    }\n  \n    getInstrumentName(){\n        return this.instrumentName;\n    }\n    resetInstrument(){\n        this.instrumentName = null;\n        this.instrumentType = null;\n    }\n\n    //SUBS\n    _checkInstrumentName(instrumentName){\n        if (this.instrumentName) {\n            console.warn(\"PLYR\", this.id, \": Already playing\", this.instrumentName);\n            return false;\n        } else {\n          //activate\n          this.instrumentName = instrumentName;\n          //console.log(\"PLYR\", this.id, \": Play:\", instrumentName);\n          return true;\n        }\n    }\n\n    //load a new audio file buffers into the player's note slots\n    _loadBuffers(newBuffers) {\n        try {\n            // Ensure player exists\n            if (!this.player) {\n                console.error(\"PLYR: this.player is not initialized\");\n                return false;\n            }\n            \n            // Ensure newBuffers is defined; if not, return false\n            if (!newBuffers) {\n                console.warn(\"PLYR: _loadBuffers: newBuffers is not defined.\");\n                return false;\n            }\n            \n            // If there is only one buffer, map it only to its designated note.\n            if (newBuffers.length === 1) {\n                \n                // Expecting an object like { note: \"C3\", buffer: ToneAudioBuffer }\n                const singleEntry = newBuffers[0];\n\n                 // Extract the note and raw audio buffer.\n                const note = singleEntry.note;\n                const rawBuffer = singleEntry.buffer ? singleEntry.buffer._buffer : singleEntry._buffer;\n\n                if (!rawBuffer || !note) {\n                    console.warn(\"PLYR: _loadBuffers: The single entry is missing a note or buffer.\", singleEntry);\n                    return false;\n                }\n\n                // Clear out any previous multi-sample mappings.\n                 this.player._buffers._buffers.clear();\n\n                 // Map the single sample only to its designated note.\n                //console.log(\"Setting note\", note, \"to buffer\", rawBuffer);\n                this.player.add(note, rawBuffer);\n            \n                return true;\n            } \n            // If there are multiple entries\n            else {\n                // Expect an array of objects like: [{ note: \"C0\", buffer: ToneAudioBuffer }, ]\n                newBuffers.forEach(entry => {\n                // Extract the note and buffer from each entry\n                const note = entry.note;\n                const toneBuffer = entry.buffer;\n        \n                if (!note || !toneBuffer || !toneBuffer._buffer) {\n                    console.warn(\"PLYR: _loadBuffers: Missing note or buffer in entry:\", entry);\n                    return;\n                }\n        \n                // Assign this buffer to the specified note\n                this.player.add(note, toneBuffer._buffer);\n                });\n        \n                //console.log(\"PLYR: Multiple buffers updated using custom note mappings.\");\n                return true;\n            }\n        } catch (error) {\n            console.error(\"PLYR: Error updating buffers in _loadBuffers:\", error);\n            return false;\n        }\n    }\n}","export default class SolfeggioSynth {\n\n    constructor(\n        tone,\n        mainOutput\n    ){\n\n        //build synth\n        this.osc = new tone.Oscillator(523.25, \"sine\");\n        this.osc.volume.value = -30;\n        this.ampEnv = new tone.AmplitudeEnvelope({\n            attack: 3.5,   // gradual fade-in\n            decay: 1.0,    // slower drop to the sustain level\n            sustain: 0.9,  // lower level to simulate natural decay\n            release: \"8m\"  // long tail after note release\n        })\n\n        this.autoPan = new tone.AutoPanner(\n              5, //frequency\n              1.0 //depth\n        );\n\n   \n        //create lightweight reverb\n        // this.reverb = new tone.Reverb({\n        //     decay: 12,\n        //     preDelay: 0.1,\n        //     wet: 0.8\n        // });\n\n        //routing\n        this.osc.connect(this.ampEnv);\n        this.ampEnv.connect(this.autoPan);\n        this.autoPan.connect(mainOutput);\n\n        //frequencies quantiezed to C E G or D\n        //this.frequencies = [164.81, 392.00, 523.25, 783.99, 1046.50]\n        //pure solfeggios\n        this.frequencies = [392.00, 164.81, 392.00, 523.25, 783.99, 1046.50]\n        \n    }\n\n    setFrequency(frequency){\n        this.autoPan.frequency.value = frequency;\n    }\n\n    start(){\n        this.autoPan.start();\n        this.osc.start();\n    }\n\n    play(set){\n        this.osc.frequency.value = this.frequencies[set];\n        this.ampEnv.triggerAttackRelease(\"2m\");\n    }\n\n    \n}","import Player from \"./Player\";\nimport SolfeggioSynth from \"./SolfeggioSynth\";\n\nexport default class Players {\n\n    //pass dry and wet output down into the players\n    constructor(tone, mainOutput, playComplete, ) {\n\n        this.tone = tone;\n\n        //note players\n        this.players = [\n            new Player(tone, 0, mainOutput, playComplete),\n            new Player(tone, 1, mainOutput, playComplete),\n            new Player(tone, 2, mainOutput, playComplete),\n            new Player(tone, 3, mainOutput, playComplete)\n        ];\n\n        this.solfeggioSynth = new SolfeggioSynth(tone, mainOutput);\n\n        this.activeInstrumentNames = [];\n\n        //scheduling events\n        this.bgLoopID = null;\n        this.playerID_1 = null;\n        this.playerID_2 = null;\n        this.playerID_3 = null;\n\n        //this.introTonePlayed = false;\n    }\n\n    start(){\n        this.solfeggioSynth.start();\n    }\n\n    setFrequency(frequency){\n        this.solfeggioSynth.setFrequency(frequency);\n    }\n\n    \n    playIntroTone(songID){\n        //if (!this.introTonePlayed){\n            //this.introTonePlayed = true;\n            this.solfeggioSynth.play(songID); \n        //}\n    }\n\n    //loads a new set of audio files and data sets into the app\n    play(song) {\n\n        console.log(\"PLAYERS: Play\", song.name, \"song\");\n        //reset all players\n        this.stopAll();\n\n        //introduce sounds gradually\n        \n        this.bgLoopID = this.tone.getTransport().scheduleOnce((time) => {\n            console.log(\"---> PLAYERS: BG LOOP\");\n            this.playBackgroundLoop(song); //start with background loop\n        }, \"+\" + this.tone.Time(\"4n\"));\n\n        this.playerID_1 = this.tone.getTransport().scheduleOnce((time) => {\n            console.log(\"---> PLAYERS: PLAYER 2\");\n            this.playInstrument(song); //player 2\n        }, \"+\" + this.tone.Time(\"6m\")); \n\n        this.playerID_2 = this.tone.getTransport().scheduleOnce((time) => {\n            console.log(\"---> PLAYERS: PLAYER 3\");\n            this.playInstrument(song); //player 3\n        }, \"+\" + this.tone.Time(\"14m\")); \n       \n        this.playerID_3 = this.tone.getTransport().scheduleOnce((time) => {\n            console.log(\"---> PLAYERS: PLAYER 4\");\n            this.playInstrument(song); //player 4\n        }, \"+\" + this.tone.Time(\"20m\"));\n        \n    }\n\n    \n    //PLAY\n    //bg and instruments\n    playBackgroundLoop(song) {\n        const instrument = song.getBackgroundLoop();\n        if (!instrument) {\n            console.warn(\"PLAYERS: No background loop found\");\n            return;\n        }\n        //console.log(\"PLAYERS: Play background loop\", instrument.name);\n        this._playInstrument(instrument);\n    }\n\n    playInstrument(song) {\n\n        // Filter out the ones that are already active\n        const availableInstruments = song.getInstruments().filter(instrument => \n            !this.activeInstrumentNames.includes(instrument.name)\n        );\n        //console.log(\"PLAYERS: Available instruments:\", availableInstruments);\n\n        if (availableInstruments.length === 0) {\n            console.warn(\"Players: All available instruments are playing\");\n            return;\n        }\n\n        // Pick one at random from the available instruments\n        const randomIndex = Math.floor(Math.random() * availableInstruments.length);\n        const instrument = availableInstruments[randomIndex];\n\n        //console.log(\"PLAYERS: Play instrument\", instrument);\n        this._playInstrument(instrument);\n    }\n\n    //RESET\n    resetPlayer(instrumentName) {\n        \n        // Loop through the players array\n        for (const player of this.players) {\n\n            // If the notePlayer's instrumentName matches the given instrumentName...\n            if (player.getInstrumentName() === instrumentName) {\n\n                // ...reset it to null and make it available again\n                console.log(\"PLAYERS: Player\", player.id, \"with instrumentName\", instrumentName, \"has been reset.\");\n                player.resetInstrument();\n\n                //remove instrument name from activeInstrumentNames\n                const index = this.activeInstrumentNames.indexOf(instrumentName);\n                if (index > -1) { this.activeInstrumentNames.splice(index, 1); }   \n\n                console.log(\"--- RMV PLAYLIST\", instrumentName);\n                break;\n            }\n        }\n    }\n\n    //PLAYBACK\n    _playInstrument(instrument) {\n\n        // Mark this instrument as active\n        this.activeInstrumentNames.push(instrument.name);\n        console.log(\"+++ ADD PLAYLIST\", this.activeInstrumentNames);\n\n        //get an available player\n        const availablePlayer = this._getAvailablePlayer();\n        \n        if (availablePlayer) {\n\n            console.log('Players: Play', instrument.name, \"on player\", availablePlayer.id);\n            availablePlayer.playInstrument(instrument);\n\n        } else {\n          console.warn(\"Players: All note players are being used\");\n        }\n    }\n   \n    _getAvailablePlayer(){\n\n        // Loop through each player until we find one that's not in use\n        let availablePlayer = null;\n        \n        for (const player of this.players) {\n\n            //if note player doesn't have a instrument name, it's available\n            if (!player.getInstrumentName()) {\n                availablePlayer = player;\n                break;\n            }\n        }\n        return availablePlayer;\n    }\n\n    \n\n    //loop through all players and stop them\n    stopAll(){\n\n        console.log(\"PLAYERS: Stop all\");\n\n        //stop all scheduled events\n        this.tone.getTransport().clear(this.bgLoopID);\n        this.tone.getTransport().clear(this.playerID_1);\n        this.tone.getTransport().clear(this.playerID_2);\n        this.tone.getTransport().clear(this.playerID_3);\n        \n        //null out scheduled events\n        this.bgLoopID = null;\n        this.playerID_1 = null;\n        this.playerID_2 = null;\n        this.playerID_3 = null;\n\n        //stop all players\n        this.players.forEach(player => player.stop());\n\n        //reset array\n        this.activeInstrumentNames = [];\n    }\n}","import BusMain from './Outputs/BusMain';\nimport IntroSong from './Songs/songs/IntroSong';\nimport DeltaSong from './Songs/songs/DeltaSong';\nimport ThetaSong from './Songs/songs/ThetaSong';\nimport AlphaSong from './Songs/songs/AlphaSong';\nimport BetaSong from './Songs/songs/BetaSong';\nimport GammaSong from './Songs/songs/GammaSong';\n\n\nimport Players from './Players/Players';\nimport { SongFrequencies } from './Constants';\n\nexport default class AudioEngine {\n\n  //INIT ENGINE\n  constructor(tone) {\n\n    console.log(\"AUDIO: Init Audio Engine\");\n\n    this.tone = tone;\n\n    //songs\n    this.songs = [];\n    this.currSong = null;\n\n    //this is the entry point for all the busses\n    this.mainBusInput = null\n    this.mainBus = null;\n    \n    //init players\n    this.players = null;\n\n    //scheduler for the intro delay\n    this.startSongID = null;\n\n    this.initComplete = false;\n\n  }\n\n  async initAudioEngine(){\n\n    console.log(\"AUDIO: Init Audio Engine with Tone\", this.tone);\n  \n    if (!this.initComplete) {\n\n      //if the context change caused state to be suspended, resume it\n      if (this.tone.getContext().state === \"suspended\") { await this.tone.getContext().resume();}\n      console.log(\"AUDIO: Tone resumed\", this.tone.getContext().state);\n\n      // global BPM\n      this.tone.getTransport().bpm.value = 100; \n      //lookahead time in seconds, for scheduling. Higher numbers help CPU performance, but can cause timing issues\n      this.tone.getContext().lookAhead = 1.0; \n      console.log(\"AUDIO: Lookahead time\", this.tone.getContext().lookAhead);\n\n      if (this.tone.getTransport().state !== \"started\") {\n        console.log(\"AUDIO: Start transport\");\n        this.tone.getTransport().start();\n      } else {\n        console.log(\"AUDIO: Transport already started\");\n      }\n\n      //now that tone is init with a user click, it's safe to init the rest of the engine\n      this.songs = [\n        new IntroSong(this.tone, 1),\n        new DeltaSong(this.tone, 1),\n        new ThetaSong(this.tone, 2),\n        new AlphaSong(this.tone, 3),\n        new BetaSong(this.tone, 4),\n        new GammaSong(this.tone, 5),\n      ];\n\n      this.mainBusInput = new this.tone.Gain(1.0);\n      this.mainBus = new BusMain(this.tone, this.mainBusInput);\n      \n      //init players\n      this.players = new Players(\n        this.tone, //pass in tone\n        this.mainBusInput, //pass in main input\n        this.playComplete, //completion callback\n      );\n\n      this.initComplete = true;\n    }\n  }\n\n  //LOAD and PLAY SONG \n  async playSong(songID){\n\n    //init tone and engine components\n    await this.initAudioEngine();\n\n    console.log(\"AUDIO: Load song\", songID);\n\n    const song = this.songs[songID];\n    if (!song) {\n      console.error(\"AUDIO: No song found for ID\", songID);\n      return;\n    }\n\n    //is this song already playing?\n    if (this.currSong && this.currSong.id === songID) {\n      console.warn(\"AUDIO: Song already playing\", this.currSong.name);\n      return;\n    } else {\n      this.currSong = song; //save new song\n    }\n  \n    //play intro tone\n    console.log(\"AUDIO: Play intro tone\", songID);\n    this.players.playIntroTone(songID);\n\n    \n\n    // Wait for the song to load and capture the result\n    const isLoaded = await this.currSong.load();\n\n    if (isLoaded) {\n        console.log(\"AUDIO: Song\", songID, \"loaded\");\n    } else {\n        console.error(\"AUDIO: Failed to load song\", songID);\n    }\n\n    //start automations at specific Hz\n    this.players.setFrequency(SongFrequencies[songID]);\n    this.players.start();\n\n    //play song after delay\n    this.startSongID = this.tone.getTransport().scheduleOnce((time) => {\n      console.log(\"AUDIO: Play Song\", songID, \"at time\", time);\n      this.players.play(this.currSong);\n    }, \"+\" + this.tone.Time(\"4n\"));\n  \n  }\n\n \n  playComplete = (instrumentName, instrumentType) => {\n    console.log(\"AUDIO: Instrument\", instrumentName, \"complete, play next\");\n    this.players.resetPlayer(instrumentName);\n    this.players.playInstrument(this.currSong);    \n  };\n  \n  stopSong(){\n\n    //stop startSongID\n    this.tone.getTransport().clear(this.startSongID);\n    this.startSongID = null;\n\n    //stop all players\n    this.players.stopAll();\n  }  \n\n  //SUBS\n  _sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n}"],"names":["constructor","tone","mainBusInput","amp","Volume","connect","toDestination","Instrument","name","sampleMap","type","this","buffers","notes","loopLength","timingRange","velocityRange","skipChance","noteChance","attack","release","fxLevel","db","updateBuffers","newBuffers","TYPE_BG_LOOP","TYPE_STANDARD","Song","id","instruments","load","console","log","length","fullSoundURLs","forEach","instrument","Object","entries","_ref","note","filePath","uniqueKey","url","Buffers","loaded","noteBufferPairs","Array","from","_buffers","keys","filter","key","startsWith","map","substring","buffer","get","error","getInstrumentByName","find","getBackgroundLoop","getInstruments","getRandomInstrument","Math","floor","random","NAME_INTRO","NAME_DELTA","NAME_THETA","NAME_ALPHA","NAME_BETA","NAME_GAMMA","IntroSong","super","introBgLoop","time","pitch","loopTotal","push","introGuzheng","velocity","thetaBass","introShimmerBg","DeltaSong","deltaBgLoop","deltaSubBassNote","deltaAmbientTinesNote","ThetaSong","thetaBgLoop","thetaBellNote","thetaChimesNote","thetaChimesBg","AlphaSong","alphaBgLoop","alphaMindfullnessPad","alphaSoftKey","alphaLoundBell","alphaJvAnalogPad","alphaDreamBg","alphaTangerineBg","betaHarpBg","BetaSong","betaBeats","betaAtm","betaHarpNote","betaBellsBg","betaDriftBg","betaDreamBg","GammaSong","gammaBgLoop","gammaChakraArp","gammaSpinningWheel","gammaBell","gammaCrystalSparkle","gammaCrystalPad","gammaChoirPad","Player","mainOutput","onComplete","instrumentName","instrumentType","testTone","player","Sampler","urls","stop","bind","part","onCompleteID","sixteenthSeconds","Time","toSeconds","playInstrument","_checkInstrumentName","_loadBuffers","warn","timeRange","volume","rampTo","availablePitches","Set","n","dispose","Part","instrumentVelocity","noteVelocity","finalTime","randomShift","max","triggerAttack","loop","loopEnd","noteStartTime","partStartTime","now","onCompleteTime","getTransport","scheduleOnce","start","state","clear","getInstrumentName","resetInstrument","singleEntry","rawBuffer","_buffer","add","entry","toneBuffer","SolfeggioSynth","osc","Oscillator","value","ampEnv","AmplitudeEnvelope","decay","sustain","autoPan","AutoPanner","frequencies","setFrequency","frequency","play","set","triggerAttackRelease","Players","playComplete","players","solfeggioSynth","activeInstrumentNames","bgLoopID","playerID_1","playerID_2","playerID_3","playIntroTone","songID","song","stopAll","playBackgroundLoop","_playInstrument","availableInstruments","includes","resetPlayer","index","indexOf","splice","availablePlayer","_getAvailablePlayer","AudioEngine","currSong","songs","mainBus","startSongID","initComplete","initAudioEngine","getContext","resume","bpm","lookAhead","Gain","BusMain","playSong","SongFrequencies","stopSong","_sleep","ms","Promise","resolve","setTimeout"],"sourceRoot":""}